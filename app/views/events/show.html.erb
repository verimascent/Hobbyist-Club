<style>
  .rounded {
    box-shadow: 3px 3px 3px 	#D3D3D3; border: none; margin: 1rem auto
  }
</style>

<div class="flex-col">
  <div class="flex justify-between px-12 mt-8 items-center">
      <p class="text-5xl text-yellow-800"><%= @event.name.upcase %>
      </p>
      <div class="text-yellow-800">
        <%= @event.date %> <%= @event.start_time&.strftime("from %I:%M %p") %> <%= @event.end_time&.strftime("to %I:%M %p") %>
      </div>
  </div>
  <div class="flex px-12 mt-8 gap-5">
    <div class=' w-1/2'><%= User.find(@event.user_id).username %>
      <img class="object-cover rounded-md" src= "<%= @event.img_url %>" alt="photo here">
    </div>
    <div id="map" class='w-1/4 rounded-md' data-marker="<%= @marker.to_json %>" data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
    <div class='right-container grid justify-items-end h-full gap-10'>
      <div class='button absolute top-60'>
        <button class="bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 rounded">
          <a onclick="this='Joined'" >
            <% if @event.users.include?(current_user) %>
            <%= "You are going" %>
            <% else %>
            <%= link_to 'Join', event_reservations_path(@event), method: :post %>
            <% end %>
          </a>
        </button>
      </div>
      <div class='address relative top-20'>
        <p class='font-bold'>Address:</p>
        <p><%= @event.address %></p>
      </div>
      <div class='edit-delete relative top-20'>
        <% if policy(@event).edit? %>
          <%= link_to 'Edit', edit_event_path(@event),
          class: 'bg-yellow-700 text-white rounded-lg py-3 px-5 mx-5' %>
        <% end %>
        <% if policy(@event).destroy? %>
          <%= link_to 'Delete', event_path(@event), method: :delete, data: { confirm: 'Are you sure?' },
          class: 'bg-yellow-700 text-white rounded-lg py-3 px-5 mx-5' %>
        <% end %>
      </div>
    </div>
  </div>
  <div class="px-12 mt-8">
    <h1 class='font-bold'>Details:</h1>
    <p><%= @event.description %></p>
  </div>
</div>
